(defwidget music []
  (box :class "medium"
    :orientation "h"
    :space-evenly false
    :halign "start"
    :visible {music_status == "Playing" ? true : false}
      (label :text {music == "" ? "" : "ðŸŽµ ${music}"}
        :tooltip {music == "" ? "" : "ðŸŽµ ${music}"}
        :truncate true
        )
  )
)

(deflisten music_status
  "playerctl -F status")

(deflisten music :initial ""
  "playerctl --follow metadata --format '{{ artist }} - {{ title }}' || true")
